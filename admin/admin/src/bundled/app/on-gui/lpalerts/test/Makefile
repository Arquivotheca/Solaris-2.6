# This file was generated by `gxv' from `exMessage.G'.

OPENWINHOME = /usr/openwin

# If OPENWINHOME is set, then use that location to
# search for the include files and library files. If
# it is not set, then use /usr/openwin.
WIN_HOME:sh = \
 (					\
  case ${OPENWINHOME}			\
  in ?*) echo ${OPENWINHOME};;		\
      *) echo "/usr/openwin";;		\
  esac;					\
 )

# Parameters.

PROGRAM = doTest
SOURCES.c = doTest.c
SOURCES.h = 

# Derived parameters.

SOURCES = \
	$(SOURCES.h) \
	$(SOURCES.l) \
	$(SOURCES.y) \
	$(SOURCES.cps) \
	$(SOURCES.c)


TARGETS.h = \
	$(SOURCES.G:%.G=%_ui.h) \
	$(SOURCES.l:%.l=%.h) \
	$(SOURCES.y:%.y=%.h) \
	$(SOURCES.cps:%.cps=%.h)

TARGETS = \
	$(TARGETS.h) 

OBJECTS = \
	$(SOURCES.c:%.c=%.o) \
	$(TARGETS.c:%.c=%.o)

# Compiler flags.

CFLAGS += -g 
CPPFLAGS += -I$(WIN_HOME)/include -DMAIN -DSVR4
LDFLAGS += -R$(WIN_HOME)/lib  -L$(WIN_HOME)/lib
LDLIBS += -lsocket -lnsl -ldeskset -lxview -lolgx -ltt -lX11 -lintl

# Standard targets.

all:	 $(TARGETS.other) $(PROGRAM) doTest 
objects: $(SOURCES.c) $(TARGETS.h) $(OBJECTS)
sources: $(SOURCES)
targets: $(SOURCES) $(TARGETS)

$(PROGRAM): $(SOURCES.c) $(TARGETS.c) $(TARGETS.h) $(OBJECTS)
	$(LINK.c) -o $@ $(OBJECTS) $(LDLIBS)

doTest: doTest.c 
	$(LINK.c) -o $@ doTest.c $(LDLIBS)

# Targets to be used by Saber-C.

saber_src:
	#load $(CFLAGS) $(CPPFLAGS) $(LDFLAGS) $(TARGET_ARCH) \
		$(SOURCES.c) $(TARGETS.c) $(LDLIBS)

saber_obj:
	#load $(CFLAGS) $(CPPFLAGS) $(LDFLAGS) $(TARGET_ARCH) $(OBJECTS) $(LDLIBS)

scour:
	$(RM) $(TARGETS.c) $(TARGETS.other) $(TARGETS.h) $(PROGRAM).db $(OBJECTS) *.BAK *.delta $(PROGRAM) Makefile core

%_ui.h: %_ui.c
	@touch $@

%_stubs.c: %_ui.c
	@touch $@

%.info: %_ui.c
	@touch $@
